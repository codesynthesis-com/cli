# file      : buildfile
# copyright : Copyright (c) 2009-2017 Code Synthesis Tools CC
# license   : MIT; see accompanying LICENSE file

import libs = libcutl%lib{cutl}

exe{cli}: {hxx ixx txx cxx}{** -version -options} \
          {hxx}{version}                          \
          {hxx ixx cxx}{options}                  \
          $libs

hxx{version}: in{version} $src_root/file{manifest}
hxx{version}: dist = true

# Generated options parser.
#
if $cli.configured
{
  cli.cxx{options}: cli{options}

  cli.options += -I $src_root --include-with-brackets --include-prefix cli \
--guard-prefix CLI --generate-file-scanner --generate-specifier \
--reserved-name stdout

  # Include generated cli files into the distribution.
  #
  cli.cxx{*}: dist = true
}
